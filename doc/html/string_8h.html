<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>useful: /home/nathan/workspace/C/useful/src/useful/string.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">useful
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Useful algorithms, data structures and macros for C programmers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9a19e62f5fb4eb5b3e2c6a1aa8070ada.html">useful</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">string.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Macros and functions for managing strings and there memory (think very simple C++ std::vector). It's a convenience to spare programmers the misery of managing the memory for C strings.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="array_8h_source.html">array.h</a>&quot;</code><br />
</div>
<p><a href="string_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structu__string.html">u_string</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structu__string__array.html">u_string_array</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab271a34ef55cf2a8c82b425224a14fa3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>U_STRING</b>(<a class="el" href="structstring.html">string</a>)</td></tr>
<tr class="separator:ab271a34ef55cf2a8c82b425224a14fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651ac52f3ebeb0d19dc01fee9c7f5655"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="string_8h.html#a651ac52f3ebeb0d19dc01fee9c7f5655">U_STRING_FREE</a>(<a class="el" href="structstring.html">string</a>)&#160;&#160;&#160;<a class="el" href="array_8h.html#a509d51a0bb9c4cf857d39ea645bfbb64">U_ARRAY_FREE</a>(<a class="el" href="structstring.html">string</a>, str)</td></tr>
<tr class="separator:a651ac52f3ebeb0d19dc01fee9c7f5655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce391c5b5cfcf27fd666aa53884ef9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="string_8h.html#a5ce391c5b5cfcf27fd666aa53884ef9e">U_STRING_EMPTY</a>(<a class="el" href="structstring.html">string</a>)</td></tr>
<tr class="separator:a5ce391c5b5cfcf27fd666aa53884ef9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3720f11a7cefc2eff38fbe5d016674"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="string_8h.html#a2c3720f11a7cefc2eff38fbe5d016674">U_STRING_ARRAY</a>(array)</td></tr>
<tr class="separator:a2c3720f11a7cefc2eff38fbe5d016674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd52d72eb03caa4fe9496c232efeade"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="string_8h.html#a2cd52d72eb03caa4fe9496c232efeade">U_STRING_ARRAY_FREE</a>(array)&#160;&#160;&#160;    <a class="el" href="array_8h.html#abb40f8ebbcae9afe0ec7b9c5489b7be2">U_ARRAY_FREE_ELEMS_CUSTOM</a>(array, strings, <a class="el" href="array_8h.html#a509d51a0bb9c4cf857d39ea645bfbb64">U_ARRAY_FREE</a>, str)</td></tr>
<tr class="separator:a2cd52d72eb03caa4fe9496c232efeade"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4888776cccbe476150d7ddae31e19854"><td class="memItemLeft" align="right" valign="top"><a id="a4888776cccbe476150d7ddae31e19854"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>u_strcat</b> (struct <a class="el" href="structu__string.html">u_string</a> *dest, const char *src)</td></tr>
<tr class="separator:a4888776cccbe476150d7ddae31e19854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d177870b4dcfe20f2fdf9267ebd3be"><td class="memItemLeft" align="right" valign="top"><a id="ae9d177870b4dcfe20f2fdf9267ebd3be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>u_strcpy</b> (struct <a class="el" href="structu__string.html">u_string</a> *dest, const char *src)</td></tr>
<tr class="separator:ae9d177870b4dcfe20f2fdf9267ebd3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c2a04d6aa14cb5fb4a27fa75230e1d"><td class="memItemLeft" align="right" valign="top"><a id="a18c2a04d6aa14cb5fb4a27fa75230e1d"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>u_fgets</b> (struct <a class="el" href="structu__string.html">u_string</a> *dest, FILE *stream)</td></tr>
<tr class="separator:a18c2a04d6aa14cb5fb4a27fa75230e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20420ec54017ff1d28efc834d15c9b4"><td class="memItemLeft" align="right" valign="top"><a id="af20420ec54017ff1d28efc834d15c9b4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>u_sprintf</b> (struct <a class="el" href="structu__string.html">u_string</a> *dest, const char *format,...)</td></tr>
<tr class="separator:af20420ec54017ff1d28efc834d15c9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328ddd14dcddbf85e46401c269695128"><td class="memItemLeft" align="right" valign="top"><a id="a328ddd14dcddbf85e46401c269695128"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>u_string_pushchar</b> (struct <a class="el" href="structu__string.html">u_string</a> *dest, char c)</td></tr>
<tr class="separator:a328ddd14dcddbf85e46401c269695128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99162d8638c978413572182405b1bced"><td class="memItemLeft" align="right" valign="top"><a id="a99162d8638c978413572182405b1bced"></a>
struct <a class="el" href="structu__string.html">u_string</a>&#160;</td><td class="memItemRight" valign="bottom"><b>u_substr</b> (const struct <a class="el" href="structu__string.html">u_string</a> *<a class="el" href="structstring.html">string</a>, size_t index, size_t n)</td></tr>
<tr class="separator:a99162d8638c978413572182405b1bced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f494a3d5281e33f6756d97dd012082"><td class="memItemLeft" align="right" valign="top"><a id="a80f494a3d5281e33f6756d97dd012082"></a>
struct <a class="el" href="structu__string__array.html">u_string_array</a>&#160;</td><td class="memItemRight" valign="bottom"><b>u_string_split</b> (const char *string_to_split, const char *delims)</td></tr>
<tr class="separator:a80f494a3d5281e33f6756d97dd012082"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>To use it declare a string, say it's called my_string, as follows:</p>
<pre class="fragment">U_STRING(my_string); </pre><p>This creates a struct <a class="el" href="structu__string.html">u_string</a> and allocates memory for it. A struct <a class="el" href="structu__string.html">u_string</a> simply consists of a char * called str, and two size_t variables len (the length of str including null terminator) and capacity (how much memory is currently available for str).</p>
<p>All the macros and functions expect null terminated strings. All the macros and functions that modify or create strings will leave them null terminated. If used properly, it should always be ok to use my_string.str as a normal C string so long as it is kept constant. If you modify it outside of this API, then you're responsible for ensuring len and capacity are set correctly. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab271a34ef55cf2a8c82b425224a14fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab271a34ef55cf2a8c82b425224a14fa3">&#9670;&nbsp;</a></span>U_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_STRING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structstring.html">string</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">struct </span>u_string (string); \</div>
<div class="line">    U_ARRAY((<span class="keywordtype">string</span>), str); \</div>
<div class="line">    U_ARRAY_PUSH(<span class="keywordtype">string</span>, str, <span class="charliteral">&#39;\0&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c3720f11a7cefc2eff38fbe5d016674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3720f11a7cefc2eff38fbe5d016674">&#9670;&nbsp;</a></span>U_STRING_ARRAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_STRING_ARRAY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">array</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">struct </span><a class="code" href="structu__string__array.html">u_string_array</a> array; \</div>
<div class="line">    U_ARRAY(array, strings)</div>
<div class="ttc" id="astructu__string__array_html"><div class="ttname"><a href="structu__string__array.html">u_string_array</a></div><div class="ttdef"><b>Definition:</b> string.h:43</div></div>
</div><!-- fragment --><p>Creates an array of strings</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Name of variable in which to store the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2cd52d72eb03caa4fe9496c232efeade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd52d72eb03caa4fe9496c232efeade">&#9670;&nbsp;</a></span>U_STRING_ARRAY_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_STRING_ARRAY_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">array</td><td>)</td>
          <td>&#160;&#160;&#160;    <a class="el" href="array_8h.html#abb40f8ebbcae9afe0ec7b9c5489b7be2">U_ARRAY_FREE_ELEMS_CUSTOM</a>(array, strings, <a class="el" href="array_8h.html#a509d51a0bb9c4cf857d39ea645bfbb64">U_ARRAY_FREE</a>, str)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees an array of strings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>Variable containing the array of strings that must be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ce391c5b5cfcf27fd666aa53884ef9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce391c5b5cfcf27fd666aa53884ef9e">&#9670;&nbsp;</a></span>U_STRING_EMPTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_STRING_EMPTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structstring.html">string</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    (<a class="code" href="structstring.html">string</a>).len = 1; \</div>
<div class="line">    (<a class="code" href="structstring.html">string</a>).str[0] = <span class="charliteral">&#39;\0&#39;</span></div>
<div class="ttc" id="astructstring_html"><div class="ttname"><a href="structstring.html">string</a></div><div class="ttdef"><b>Definition:</b> csv.c:9</div></div>
</div><!-- fragment --><p>Empties a string and null terminates it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>String to empty and null terminate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a651ac52f3ebeb0d19dc01fee9c7f5655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651ac52f3ebeb0d19dc01fee9c7f5655">&#9670;&nbsp;</a></span>U_STRING_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_STRING_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="structstring.html">string</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="array_8h.html#a509d51a0bb9c4cf857d39ea645bfbb64">U_ARRAY_FREE</a>(<a class="el" href="structstring.html">string</a>, str)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees strings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>String variable to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
